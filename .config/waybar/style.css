/* 引入 Matugen 生成的变量 */
@import "colors.css";

@keyframes blink-critical {
    50% {
        color: @on_surface_variant;
    }
    to {
        /* M3 Error 角色 */
        color: @error; 
    }
}

* {
    border: none;
     /* border-radius: 13px; */
    font-family: monospace;
    font-size: 12px;
    font-weight: bold;
}

window#waybar {
    background: transparent;
}

/* 需要将config.jsonc总高度改height 34改为46 */
/* window>box { */
/*     margin-top: 6px; */
/*     margin-left: 6px; */
/*     margin-right: 6px; */
/*     padding-bottom:6px; */
/*     border-radius: 13px; */
/*     background-color: alpha(@surface_container,0.8); */
/* } */

/* 基础模块样式：使用 Surface Container 建立层级 */
#network, #bluetooth, #pulseaudio, #battery, #backlight,
#clock, #keyboard-state, #language, #submap,
#idle_inhibitor, #custom-clipboard, #custom-playerctl,
#custom-playerlabel, #custom-update, #custom-powermenu,
#tray, #custom-wallpaper, #custom-media, #custom-wf-recorder,
#custom-launcher, #custom-cava-internal, #hardware, #window  {
    margin-top: 6px;
    margin-left: 6px;
    margin-bottom: 0px;
    padding: 0 11px;
    border-radius: 13px;
    /* 使用 M3 容器色，比纯黑背景略亮 */
    background: alpha(@surface_container,0.8);
    /* 默认文字颜色使用次要表面色 */
    color: @on_surface;
    transition: all 0.3s ease;
    /* border: 1px solid @primary; */
}

/* --- 硬件信息 --- */
#hardware {
    padding: 0 6px;
}
#cpu, #temperature, #memory, #disk {
    padding: 0 6px;
}

/* 1. 主角模块 (Primary): 使用最醒目的青色 */
/* #clock { color: @primary; } */
#custom-launcher { font-size: 14px; padding-left: 10px; padding-right: 12px; }
#idle_inhibitor { padding-left: 7px; padding-right: 14px; }
#custom-clipboard { padding-left: 10px; padding-right: 12px; }
#custom-update { color: @primary }
/* 2. 状态模块 (Secondary/Tertiary): 柔和的色调 */
/* #network, #bluetooth { color: @secondary; } */
/* #memory, #cpu, #disk { color: @tertiary; } */
/* #pulseaudio, #backlight { color: @primary_fixed_dim; } */
/* 3. 电池状态 (使用 M3 标准错误/警告逻辑) */
#battery { color: @secondary; }
#battery.charging, #battery.plugged { color: @primary; }
#battery.warning { color: @tertiary; }
#battery.critical { color: @error; }
#battery.critical.discharging {
    animation-name: blink-critical;
    animation-duration: 2s; 
    animation-iteration-count: infinite;
    animation-direction: alternate;
}

/* 4. 工作区样式优化 (M3 药丸形状) */
#workspaces {
    background: alpha(@surface_container, 0.8); /* 或者使用你喜欢的深色背景 */
    margin-top: 6px;
    margin-left: 8px;
    margin-bottom: 0px;
    padding: 0; /* 增加左右内边距，让内部小胶囊不贴边 */
    border-radius: 13px;  /* 大圆角形成大胶囊 */
    /* transition: all 0.3s ease; */
    font-size: 8px;
    /* border: 1px solid @primary; */
}
#workspaces button {
    /* color: @surface_container_high; */
    background: alpha(@on_surface, 0.3);
    padding: 0 6px;
    margin: 7px 3px;
    min-width: 8px;
    min-height: 10px;
    /* transition: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55); */
    transition: all 0.4s cubic-bezier(0.25, 1, 0.5, 1);
    /* transition: all 0.3s ease; */
    /* transition: all 0.2s cubic-bezier(0.25, 1, 0.5, 1); */
}
#workspaces button:first-child {
    /* 移除第一个按钮的左边距，让它直接贴在 #workspaces 的 padding 上 */
    margin-left: 8px;
}
 #workspaces button:last-child {
    /* 移除最后一个按钮的右边距 */
    margin-right: 8px;
}
#workspaces button.focused, #workspaces button.active {
    /* 选中状态使用 Primary 容器，产生明亮的点击感 */
    background: @primary;
    min-width: 16px;
}
#workspaces button.focused:hover, #workspaces button.active:hover {
    background: @primary;
}
#workspaces button:hover {
    background: alpha(@on_surface, 0.7);
}
#workspaces button label {
    font-size: 0;       /* 字号设为 0，不占宽度 */
    margin: 0;          /* 彻底消除间距 */
    padding: 0;
    color: transparent; /* 完全透明 */
}

/* 窗口标题 */
/* #window {  */
/*     background: transparent;  */
/* } */
window#waybar.empty #window {
    background: transparent;
    padding: 0;
    margin: 0;
}

/* 5. 托盘与特殊插件 */
#tray { color: @on_surface; }

#custom-powermenu {
    color: @primary;
    /* color: @error; */
    /* background: alpha(@error_container,0.8); */
    padding-left: 9px;
    padding-right: 13px;
    margin-right: 6px;
}

/* 6. 音乐播放器 (MPD / Playerctl) */
#custom-playerlabel {
    background: transparent;
    color: @primary;
}
#custom-playerlabel {
  margin-left: 0;
  /* padding-left: 0; */
  color: @on_surface;
}
#custom-playerctl, #custom-playerctl.Paused, #custom-playerctl.Stopped {
  color: @primary;
}
#custom-playerlabel.Paused {
    color: @outline;
    font-style: italic;
}
 #custom-playerlabel.Stopped { color: transparent; }
#custom-cava-internal { background: transparent; }

#submap {
    color: @on_tertiary_container;
    background: transparent;
    font-style: italic;
}

#custom-wf-recorder {
    color: @error;
    background: transparent;
    font-size: 20px;
}

tooltip label {
    padding: 0;
}
